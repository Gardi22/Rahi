<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rahi's Study Hub</title>
  <style>
    :root {
      --bg: #f5f7fa;
      --card-bg: #ffffff;
      --text: #333;
      --primary: #6e48aa;
      --wrong: #ff6b6b;
    }
    /* Subject Colors */
    .subject-science { --primary: #3a86ff; }
    .subject-math { --primary: #ff006e; }
    .subject-social-studies { --primary: #ff9e00; }
    .subject-computing { --primary: #00b4d8; }
    .subject-english { --primary: #8338ec; }
    .dark-mode {
      --bg: #1a1a2e;
      --card-bg: #16213e;
      --text: #f1f1f1;
      --wrong: #ff8e8e;
    }
    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      transition: all 0.3s;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    .dashboard, .flashcard-mode {
      display: none;
      padding: 20px;
      max-width: 800px;
      margin: 0 auto;
    }
    .active-mode {
      display: block;
    }
    .watermark {
      position: fixed;
      font-size: 12px;
      opacity: 0.5;
      z-index: 100;
      color: var(--primary);
    }
    .top-left { top: 10px; left: 10px; }
    .top-right { top: 10px; right: 10px; }
    .bottom-left { bottom: 10px; left: 10px; }
    .bottom-right { bottom: 10px; right: 10px; }
    h1 {
      text-align: center;
      color: var(--primary);
      margin-bottom: 30px;
    }
    .subject-card {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 20px;
      margin: 15px 0;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.3s;
      border-left: 5px solid var(--primary);
    }
    .subject-card:hover {
      transform: translateY(-5px);
    }
    .subject-card h2 {
      margin-top: 0;
      color: var(--primary);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .subject-card h2::after {
      content: "›";
      font-size: 1.5rem;
      transition: transform 0.3s;
    }
    .subject-card.expanded h2::after {
      transform: rotate(90deg);
    }
    .topic-list {
      display: none;
      flex-direction: column;
      gap: 10px;
      margin-top: 15px;
      padding-left: 15px;
    }
    .expanded .topic-list {
      display: flex;
    }
    .topic {
      background: var(--primary);
      color: white;
      padding: 10px 15px;
      border-radius: 8px;
      font-size: 0.9rem;
      opacity: 0.9;
      cursor: pointer;
      transition: all 0.2s;
    }
    .topic:hover {
      opacity: 1;
      transform: translateX(5px);
    }
    .direct-subject {
      margin-top: 15px;
    }
    .back-button {
      background: #666;
      color: white;
      border: none;
      padding: 8px 15px;
      border-radius: 5px;
      cursor: pointer;
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 5px;
    }
    .flashcard-container {
      perspective: 1000px;
      width: 100%;
      max-width: 600px;
      margin: 20px auto;
      position: relative;
    }
    .subject-label {
      text-align: center;
      font-weight: bold;
      color: var(--primary);
      margin-bottom: 5px;
      font-size: 1.2rem;
    }
    .topic-label {
      text-align: center;
      font-size: 1rem;
      opacity: 0.8;
      margin-bottom: 15px;
      color: var(--primary);
    }
    .flashcard {
      width: 100%;
      height: 300px;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.6s;
      cursor: pointer;
      border-radius: 15px;
      box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
    }
    .flashcard.flipped {
      transform: rotateY(180deg);
    }
    .flashcard-front, .flashcard-back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 25px;
      box-sizing: border-box;
      background: var(--card-bg);
      border-radius: 15px;
      text-align: center;
      font-size: 1.2rem;
    }
    .flashcard-back {
      transform: rotateY(180deg);
      background: var(--primary);
      color: white;
    }
    .flashcard-corner {
      position: absolute;
      font-size: 10px;
      opacity: 0.5;
    }
    .fc-tl { top: 5px; left: 5px; }
    .fc-tr { top: 5px; right: 5px; }
    .fc-bl { bottom: 5px; left: 5px; }
    .fc-br { bottom: 5px; right: 5px; }
    .controls {
      display: flex;
      gap: 15px;
      margin-top: 20px;
      justify-content: center;
    }
    button {
      background: var(--primary);
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      transition: transform 0.2s;
    }
    button:hover {
      transform: scale(1.05);
    }
    button.wrong {
      background: var(--wrong);
    }
    .progress {
      margin-top: 20px;
      font-weight: bold;
      text-align: center;
    }
    .theme-toggle {
      position: fixed;
      top: 20px;
      right: 20px;
      background: var(--primary);
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      border: none;
      color: white;
      z-index: 100;
    }
    .review-box {
      margin-top: 30px;
      padding: 15px;
      border-radius: 10px;
      background: var(--wrong);
      color: white;
      display: none;
    }
    .review-box h3 {
      margin-top: 0;
    }
    .empty-message {
      text-align: center;
      color: #666;
      font-style: italic;
      margin-top: 50px;
    }
  </style>
   <script src="https://unpkg.com/@vercel/analytics@latest/dist/analytics.min.js"></script>
   <script>
     window.va = window.va || function() { (window.vaq = window.vaq || []).push(arguments); };
   </script>
</head>
<body class="subject-science">
  <!-- Your name watermarked -->
  <div class="watermark top-left">Rahi Najeem</div>
  <div class="watermark top-right">Rahi Najeem</div>
  <div class="watermark bottom-left">Rahi Najeem</div>
  <div class="watermark bottom-right">Rahi Najeem</div>

  <button class="theme-toggle" onclick="toggleTheme()">☀️</button>

  <!-- Dashboard -->
  <div class="dashboard active-mode">
    <h1>Rahi's Study Hub</h1>
    
    <div class="subject-card" onclick="toggleSubject(this, 'science')">
      <h2>Science</h2>
      <div class="topic-list">
        <div class="topic" onclick="enterFlashcardMode('science', 'physics')">Physics</div>
        <div class="topic" onclick="enterFlashcardMode('science', 'human-body')">Human Body</div>
        <div class="topic" onclick="enterFlashcardMode('science', 'chemistry')">Chemistry</div>
      </div>
    </div>
    
    <div class="subject-card" onclick="toggleSubject(this, 'math')">
      <h2>Mathematics</h2>
      <div class="topic-list">
        <div class="topic" onclick="enterFlashcardMode('math', 'algebra3')">Algebra 3</div>
        <div class="topic" onclick="enterFlashcardMode('math', 'geometry2')">Geometry 2</div>
      </div>
    </div>
    
    <div class="subject-card direct-subject" onclick="enterFlashcardMode('social-studies', 'social-studies')">
      <h2>Social Studies</h2>
    </div>
    
    <div class="subject-card direct-subject" onclick="enterFlashcardMode('computing', 'computing')">
      <h2>Computing</h2>
    </div>
    
    <div class="subject-card" onclick="toggleSubject(this, 'english')">
      <h2>English</h2>
      <div class="topic-list">
        <div class="topic" onclick="enterFlashcardMode('english', 'vocabulary')">Vocabulary (Anthology)</div>
        <div class="topic" onclick="enterFlashcardMode('english', 'grammar')">Grammar</div>
      </div>
    </div>
  </div>

  <!-- Flashcard Mode -->
  <div class="flashcard-mode">
    <button class="back-button" onclick="backToDashboard()">‹ Back to Subjects</button>
    <div class="subject-label" id="subjectLabel">SCIENCE</div>
    <div class="topic-label" id="topicLabel">PHYSICS</div>
    
    <div class="flashcard-container">
      <div class="flashcard" onclick="flipCard()">
        <div class="flashcard-front">
          <div class="flashcard-corner fc-tl">Rahi Najeem</div>
          <div class="flashcard-corner fc-tr">Rahi Najeem</div>
          <div class="flashcard-corner fc-bl">Rahi Najeem</div>
          <div class="flashcard-corner fc-br">Rahi Najeem</div>
          <p id="flashcardQuestion">Click "Next" to begin</p>
        </div>
        <div class="flashcard-back">
          <p id="flashcardAnswer">Your flashcards will appear here</p>
        </div>
      </div>
    </div>
    
    <div id="emptyMessage" class="empty-message">
      No flashcards added yet. Add your questions to the database.
    </div>
    
    <div class="controls">
      <button onclick="prevCard()">← Previous</button>
      <button class="wrong" onclick="markWrong()">Didn't Know</button>
      <button onclick="nextCard()">Next →</button>
    </div>
    
    <div class="progress" id="progressText">Card 0 of 0</div>
    
    <div class="review-box" id="reviewBox">
      <h3>Review These Cards:</h3>
      <ul id="wrongCardsList"></ul>
    </div>
  </div>

  <script>
    va('init', { endpoint: '/_vercel/insights/script.js' });
    const flashcardsDatabase = {
      'science': {
        'physics': [],
        'human-body': [{ question: "What are the six classes of essential nutrients?", answer: "carbohydrates | fats | proteins | vitamins | minerals | water" },  
{ question: "Which nutrients provide the body with energy?", answer: "carbohydrates | fats | proteins" },  
{ question: "What unit is used to measure the energy released by nutrients?", answer: "calories" },  
{ question: "How much energy (in calories) does one gram of fat provide?", answer: "9" },  
{ question: "How much energy (in calories) does one gram of carbohydrate or protein provide?", answer: "carbohydrates: 4 | proteins: 4" },  
{ question: "What is the definition of one calorie?", answer: "The energy needed to raise 1 gram of water by 1°C at 1 atmosphere pressure" },  
{ question: "What is the difference between 'calorie' and 'Calorie'?", answer: "1 Calorie (capital C) = 1,000 calories (lowercase c) | 1 Calorie = 1 kilocalorie" },  
{ question: "How is a food Calorie (kilocalorie) defined?", answer: "Energy needed to raise 1 kg of water by 1°C at 1 atmosphere pressure" },  
{ question: "What happens when you 'burn' calories during physical activity?", answer: "Body loses energy | must restore calories by eating food" },  
{ question: "What is the joule equivalent of 1 Calorie?", answer: "1 Calorie = 4.184 kilojoules" },  
{ question: "What factors determine the body's energy needs?", answer: "Physical activity | growth rate | age | gender" },  
{ question: "Why do children need more energy than adults?", answer: "Due to rapid growth" },  
{ question: "What units are used to measure food energy?", answer: "Calories (kilocalories) | joules" },  
{ question: "How does physical activity affect a person's energy needs?", answer: "More activity = higher calorie needs | Sedentary = light activity | Moderate = 150 mins/week | Active = 75+ mins vigorous/week" },  
{ question: "What defines a 'sedentary' lifestyle?", answer: "Light daily activities (e.g., desk work, minimal exercise)" },  
{ question: "How many Calories per day does a moderately active 14–18-year-old male need?", answer: "2,600" },  
{ question: "How many Calories per day does a sedentary 19–30-year-old female need?", answer: "2,000" },  
{ question: "Which age group has the highest Calorie needs for active males?", answer: "14–18 years | 3,000 Calories/day" },  
{ question: "What is the Calorie requirement for an active 9–13-year-old female?", answer: "2,000" },  
{ question: "What are the two major types of carbohydrates?", answer: "simple carbohydrates (sugars) | complex carbohydrates (starches & fiber)" },  
{ question: "What is the main monosaccharide used for energy in the body?", answer: "glucose" },  
{ question: "What are examples of foods high in simple carbohydrates?", answer: "fruits | milk | some vegetables" },  
{ question: "What are examples of complex carbohydrates?", answer: "starch (potatoes, rice, corn) | fiber (whole grains, vegetables, nuts)" },  
{ question: "Why can’t the human body digest fiber?", answer: "It cannot break fiber into sugar molecules" },  
{ question: "What are the two main types of fats?", answer: "unsaturated fats | saturated fats" },  
{ question: "What are examples of unsaturated fats?", answer: "olives | nuts | avocado | salmon" },  
{ question: "What are examples of saturated fats?", answer: "meat | dairy | egg yolks | palm oil | coconut oil" },  
{ question: "Why is cholesterol not a necessary part of the diet?", answer: "The liver produces all the cholesterol the body needs" },  
{ question: "What are the functions of fats in the body?", answer: "cell structure | organ protection | heat retention" },  
{ question: "What elements make up proteins?", answer: "nitrogen | hydrogen | carbon | oxygen" },  
{ question: "What are the building blocks of proteins?", answer: "amino acids" },  
{ question: "How many amino acids are used to build proteins?", answer: "21" },  
{ question: "How are proteins structured?", answer: "amino acids → polypeptides → protein molecules" },  
{ question: "What is the difference between essential and nonessential amino acids?", answer: "Nonessential amino acids (12) are made by the body | Essential amino acids (9) must come from food" },  
{ question: "What are examples of foods rich in essential amino acids?", answer: "meat | milk | beans | eggs | poultry | fish | nuts | lentils" },  
{ question: "What are the functions of amino acids in the body?", answer: "tissue growth | repair | energy source" },  
{ question: "How many essential amino acids must be obtained from food?", answer: "9" },  
{ question: "Why are proteins considered vital nutrients?", answer: "They supply amino acids for growth, repair, and energy" },  
{ question: "How are vitamins classified based on solubility?", answer: "water-soluble (C, B) | fat-soluble (A, D, E, K)" },  
{ question: "Why are vitamins important for the body?", answer: "essential for chemical reactions | obtained from food" },  
{ question: "How do humans obtain minerals?", answer: "directly from plants/fruits | indirectly from animal products" },  
{ question: "What are the functions of calcium, iron, and magnesium?", answer: "calcium: builds bones/teeth | iron: red blood cell function | magnesium: muscle function" },  
{ question: "What percentage of body weight is water?", answer: "65–75%" },  
{ question: "Why is water the most important nutrient?", answer: "vital processes occur in water (e.g., nutrient breakdown) | transports nutrients in blood" },  
{ question: "What is the recommended daily water intake?", answer: "6–8 glasses (varies by age/weight)" },  
{ question: "What are the key components of a balanced diet?", answer: "meets energy needs | provides all essential nutrients | includes variety" },  
{ question: "Why is balancing food intake and energy use important?", answer: "maintains health | prevents deficiencies/excess" },  
{ question: "What percentage of a healthy diet should be fruits/vegetables vs. grains/proteins?", answer: "50% fruits/vegetables | 50% grains/proteins" },  
{ question: "What are recommended healthy fat sources?", answer: "olive oil | nuts | fish" },  
{ question: "What saturated fats should be limited?", answer: "butter | red meat | cheese | bacon" },  
{ question: "What is the recommendation for dairy consumption?", answer: "Limit to 1 serving/day" },  
{ question: "What types of grains are preferred in a healthy diet?", answer: "whole grains (e.g., brown rice, whole wheat) | refined grains (e.g., white bread) limited" },  
{ question: "What is the daily recommended limit for total fat?", answer: "< 70 g" },  
{ question: "What is the daily limit for saturated fat?", answer: "< 20 g" },  
{ question: "How much carbohydrates are recommended daily?", answer: "270 g" },  
{ question: "What is the daily protein recommendation?", answer: "50 g" },  
{ question: "What is the minimum daily fiber intake?", answer: "> 25 g" },  
{ question: "How much physical activity is recommended daily?", answer: "At least 1 hour" },  
{ question: "What beverages are encouraged over sugary juices?", answer: "water | unsweetened tea" },  
{ question: "What protein sources are considered healthiest?", answer: "fish | lean meats | beans | nuts" },  
{ question: "What information do food labels provide?", answer: "serving size | servings per container | calories | nutrients per serving | % daily values" },  
{ question: "How many grams of protein are in one serving of this product?", answer: "24 g" },  
{ question: "How many servings of this product would provide 100% of daily protein (based on 50g recommendation)?", answer: "~2 servings (48g)" },  
{ question: "What percentage of daily sodium is in one serving?", answer: "28%" },  
{ question: "What are the calories per gram for fats, carbs, and proteins?", answer: "fat: 9 | carbs: 4 | protein: 4" },  
{ question: "What causes weight gain?", answer: "consuming more calories than burned" },  
{ question: "What health risks are linked to obesity?", answer: "cardiovascular diseases | diabetes | other metabolic disorders" },  
{ question: "What is starvation?", answer: "severe calorie deficiency | extreme malnutrition" },  
{ question: "How is BMI calculated?", answer: "weight (kg) / height² (m²)" },  
{ question: "What BMI range indicates obesity?", answer: "≥30" },  
{ question: "Why is vitamin C considered an essential nutrient?", answer: "body cannot produce or store it | must be obtained through diet" },  
{ question: "What are the key functions of vitamin C in the body?", answer: "tissue repair | wound healing | maintains bones/cartilage/teeth" },  
{ question: "What health problems can vitamin C deficiency cause?", answer: "anemia | weakened immunity | gingivitis (gum inflammation)" },  
{ question: "What makes a nutrient 'essential'?", answer: "body cannot synthesize it | must be obtained from food" },  
{ question: "How often should vitamin C be consumed?", answer: "daily (since it’s water-soluble and not stored)" },  
{ question: "What are the 3 main functions of the digestive system?", answer: "food breakdown | nutrient absorption | waste elimination" },  
{ question: "What are the main organs of the digestive tract?", answer: "mouth | esophagus | stomach | small intestine | large intestine" },  
{ question: "What are the two stages of digestion?", answer: "mechanical (physical breakdown) | chemical (enzymatic breakdown)" },  
{ question: "Where does mechanical digestion begin?", answer: "mouth (teeth cut/grind food)" },  
{ question: "What is the role of the digestive tract's accessory glands?", answer: "produce enzymes/fluids (e.g., bile, pancreatic juices) to aid digestion" },  
{ question: "What is peristalsis?", answer: "muscle contractions that move food through the digestive tract" },  
{ question: "What are villi?", answer: "finger-like projections in the small intestine that absorb nutrients" },  
{ question: "What enzyme begins starch digestion in the mouth?", answer: "amylase" },  
{ question: "What is bile and where is it produced?", answer: "fluid that breaks down fats | produced in the liver" },  
{ question: "What is the duodenum?", answer: "first section of the small intestine (site of major chemical digestion)" },  
{ question: "What is the role of enzymes in digestion?", answer: "speed up chemical reactions | break food into simpler, water-soluble molecules" },  
{ question: "Why does mechanical digestion aid chemical digestion?", answer: "enzymes work more efficiently on smaller food particles" },  
{ question: "What is enzyme specificity? Give an example.", answer: "each enzyme catalyzes one reaction | amylase breaks down starch (not proteins)" },  
{ question: "What are the components of saliva?", answer: "water | mucus | amylase" },  
{ question: "What does amylase break starch into?", answer: "maltose (a disaccharide of glucose)" },  
{ question: "What is a bolus?", answer: "chewed food mixed with saliva | formed into a ball for swallowing" },  
{ question: "How does the epiglottis prevent choking?", answer: "flaps down to cover trachea (windpipe) during swallowing" },  
{ question: "Describe the 3-step swallowing process.", answer: "Bolus in mouth → epiglottis up (airflow open)\nSwallowing → epiglottis down (blocks trachea)\nFood in esophagus → epiglottis resets (airflow resumes)" },  
{ question: "Define amylase.", answer: "enzyme in saliva that breaks down starch" },  
{ question: "What is maltose?", answer: "disaccharide (2 glucose units) produced from starch digestion" },  
{ question: "What is the trachea?", answer: "windpipe (air passage to lungs) | separate from esophagus" },  
{ question: "What are the dimensions of the small intestine?", answer: "2.5 cm wide | 7 m long" },  
{ question: "What is the duodenum?", answer: "upper part of small intestine | where digestion continues" },  
{ question: "How does the small intestine protect itself from acidic chyme?", answer: "secretes mucus and water" },  
{ question: "What is bile and where is it produced?", answer: "digestive fluid with salts | produced by liver | stored in gallbladder" },  
{ question: "How does bile aid fat digestion?", answer: "emulsifies fats → increases surface area for lipase action" },  
{ question: "What are the 3 major enzymes in pancreatic juice?", answer: "lipase | trypsin | pancreatic amylase" },  
{ question: "What does each pancreatic enzyme break down?", answer: "lipase: fats → glycerol + fatty acids\ntrypsin: proteins → amino acids\npancreatic amylase: starch → maltose" },  
{ question: "What is the role of sodium bicarbonate in pancreatic juice?", answer: "neutralizes acidic chyme | protects duodenum | creates optimal pH for enzymes" },  
{ question: "Why is fat emulsification important?", answer: "increases surface area for lipase to act efficiently" },  
{ question: "How does chyme change when entering the small intestine?", answer: "neutralized by sodium bicarbonate | enzymes further break down nutrients" },  
{ question: "What is the function of the ileum?", answer: "digests remaining molecules | absorbs nutrients" },  
{ question: "How is the ileum structured for absorption?", answer: "lined with thin layer of specialized cells" },  
{ question: "What is a peptic ulcer?", answer: "painful sores in stomach/duodenum lining due to mucus erosion" },  
{ question: "What are two main causes of peptic ulcers?", answer: "Helicobacter pylori bacteria | overuse of anti-inflammatory drugs" },  
{ question: "What are common symptoms of peptic ulcers?", answer: "burning abdominal pain | nausea | vomiting" },  
{ question: "Why does mucus erosion lead to ulcers?", answer: "exposes cells to stomach acid/enzymes → tissue damage" },  
{ question: "Define ileum.", answer: "lower part of small intestine | site of final digestion/absorption" },  
{ question: "What protects the stomach/duodenum from ulcers?", answer: "thick mucus layer" },  
{ question: "How do villi and microvilli aid absorption?", answer: "increase surface area of small intestine | faster nutrient absorption" },  
{ question: "What is inside each villus?", answer: "network of blood vessels | absorbs nutrients" },  
{ question: "Where does most nutrient absorption occur?", answer: "small intestine walls (via villi)" },  
{ question: "How do cells use glucose?", answer: "reacts with oxygen in cellular respiration → releases energy" },  
{ question: "What are two functions of fats in cells?", answer: "build cell membranes | energy source (when oxidized)" },  
{ question: "How are amino acids used?", answer: "synthesize proteins | build cell structures" },  
{ question: "What enzyme digests starch in the mouth?", answer: "salivary amylase | breaks starch → maltose" },  
{ question: "What is the stomach's role in protein digestion?", answer: "pepsin breaks proteins → polypeptides | acidic pH" },  
{ question: "What 3 enzymes act in the small intestine?", answer: "trypsin (proteins → amino acids) | lipase (fats → glycerol + fatty acids) | pancreatic amylase (starch → maltose)" },  
{ question: "Why is small intestine pH basic?", answer: "neutralizes acidic chyme | optimal for pancreatic enzymes" },  
{ question: "Define villi.", answer: "finger-like projections in small intestine | increase absorption surface" },  
{ question: "What is respiration in cells?", answer: "glucose + oxygen → energy + CO₂ + water" },  
{ question: "What are the dimensions of the large intestine?", answer: "1.5 m long | 6 cm wide" },  
{ question: "What are 3 functions of the large intestine?", answer: "absorbs water | houses gut bacteria | eliminates waste" },  
{ question: "What is the role of gut bacteria in digestion?", answer: "breaks down undigested fibers → fatty acids | produces vitamins (e.g., vitamin K)" },  
{ question: "How does waste exit the body?", answer: "rectum → anus (muscular opening)" },  
{ question: "What materials are NOT digested by humans?", answer: "plant cell walls (e.g., lettuce, apple) | fiber" },  
{ question: "What is diarrhea?", answer: "frequent, loose, watery stools due to reduced water absorption" },  
{ question: "What causes diarrhea?", answer: "viral/bacterial infections | parasites | rapid stool passage" },  
{ question: "Why is hydration critical during diarrhea?", answer: "large intestine absorbs less water → risk of dehydration" },  
{ question: "How does diarrhea disrupt normal digestion?", answer: "increases fluid secretion | decreases absorption | speeds up stool movement" },  
{ question: "Define rectum.", answer: "final section of large intestine | stores waste before elimination" },  
{ question: "What is the anus?", answer: "muscular opening at end of rectum | controls waste release" },  
{ question: "What is the main function of the excretory system?", answer: "removes liquid/gas wastes | maintains homeostasis" },  
{ question: "What are the 3 primary excretory organs?", answer: "kidneys | lungs | skin" },  
{ question: "What waste products do each organ remove?", answer: "kidneys: liquid waste (urea, excess water)\nlungs: CO₂ + water vapor\nskin: water, heat, salts (via sweat)" },  
{ question: "What is urea?", answer: "nitrogenous waste filtered by kidneys | from protein breakdown" },  
{ question: "Define nephron.", answer: "functional unit of kidney | filters blood to form urine" },  
{ question: "What is perspiration?", answer: "sweat (water + salts) excreted by skin to cool body" },  
{ question: "What is the path of urine excretion?", answer: "kidneys → ureters → bladder → urethra" },  
{ question: "How does the skin participate in excretion?", answer: "releases sweat (water, salts, urea) | regulates temperature" },  
{ question: "What visible evidence shows lungs excrete water?", answer: "water vapor in exhaled breath (e.g., fog on cold glass)" },  
{ question: "Why is waste elimination vital for homeostasis?", answer: "balances internal environment | prevents toxin buildup" },  
{ question: "What two liquid wastes must the body remove?", answer: "excess water | urea" },  
{ question: "What are the excretory functions of the skin?", answer: "removes excess water/heat/waste | regulates temperature via sweat" },  
{ question: "What is sweat composed of?", answer: "water | salts (e.g., NaCl) | small amounts of urea" },  
{ question: "How does sweating cool the body?", answer: "evaporation of sweat from skin absorbs heat" },  
{ question: "What is perspiration?", answer: "process of sweat production/excretion" },  
{ question: "What organs make up the urinary system?", answer: "2 kidneys | 2 ureters | bladder | urethra" },  
{ question: "Describe kidney structure/location.", answer: "bean-shaped | ~10 cm long | located near lower back above waist" },  
{ question: "Why are kidneys called 'body filters'?", answer: "continuously filter blood | remove wastes (e.g., urea) | return useful substances to blood" },  
{ question: "What is the path of urine flow?", answer: "kidneys → ureters → bladder → urethra" },  
{ question: "Define ureter.", answer: "tube carrying urine from kidney to bladder" },  
{ question: "What is the urethra?", answer: "tube that expels urine from bladder to outside body" },  
{ question: "What is the urinary bladder?", answer: "muscular sac storing urine before elimination" },  
{ question: "What percentage of blood enters kidneys with each heartbeat?", answer: "~20% via renal arteries" },  
{ question: "What wastes do kidneys remove from blood?", answer: "urea | excess water | other dissolved wastes" },  
{ question: "What is urea?", answer: "nitrogenous waste from protein breakdown" },  
{ question: "What is urine composed of?", answer: "water | urea | dissolved wastes" },  
{ question: "What is the path of urine from kidneys to excretion?", answer: "kidneys → ureters → bladder → urethra" },  
{ question: "How much urine can the bladder store?", answer: "up to 1 liter" },  
{ question: "How is urine expelled from the body?", answer: "bladder muscles contract → urine flows through urethra" },  
{ question: "What are kidney stones?", answer: "crystalized aggregates of filtered substances" },  
{ question: "What problems do large kidney stones cause?", answer: "block ureters | prevent urine flow | cause pain/blood in urine" },  
{ question: "How are kidney stones treated?", answer: "ultrasound breaks stones into smaller passable fragments" },  
{ question: "Define renal arteries.", answer: "blood vessels supplying kidneys with blood to filter" },  
{ question: "What are ureters?", answer: "tubes carrying urine from kidneys to bladder" },  
{ question: "What is the urethra?", answer: "exit tube for urine from bladder to outside body" },  
{ question: "What is a nephron?", answer: "functional unit of kidney | tiny tube that filters blood" },  
{ question: "How does blood enter the nephron?", answer: "via renal artery → branches into capillaries" },  
{ question: "What substances are filtered out of blood in the nephron?", answer: "urea | water | glucose | salts" },  
{ question: "What substances are NOT filtered out in the nephron?", answer: "blood cells | large proteins" },  
{ question: "What happens to filtered glucose and water?", answer: "reabsorbed into blood (not excreted in urine)" },  
{ question: "How does urine form in nephrons?", answer: "urea + excess water + wastes accumulate in tubules" },  
{ question: "What is the role of collecting ducts?", answer: "gather urine from nephrons → send to ureters" },  
{ question: "How does filtered blood exit the kidneys?", answer: "through renal veins" },  
{ question: "What is the path of urine after nephrons?", answer: "collecting ducts → ureters → bladder → urethra" },  
{ question: "Define renal artery.", answer: "brings unfiltered blood to kidneys" },  
{ question: "What is the renal vein?", answer: "carries filtered blood away from kidneys" },  
{ question: "What is reabsorption in nephrons?", answer: "process of returning useful substances (glucose/water) to blood" },  
{ question: "How does the body regulate water reabsorption in nephrons?", answer: "adjusts based on body's water needs | more water retained when dehydrated" },  
{ question: "What happens to urine when the body has excess water?", answer: "dilute urine (more water excreted)" },  
{ question: "What happens to urine when the body is dehydrated?", answer: "concentrated urine (less water excreted)" },  
{ question: "Why is water reabsorption important?", answer: "prevents cell swelling (overhydration) or dehydration" },  
{ question: "What determines the concentration of urine?", answer: "amount of water reabsorbed in nephrons" },  
{ question: "How does water reabsorption change in dehydration?", answer: "increases to conserve water" },  
{ question: "What is the result of minimal water reabsorption?", answer: "large volume of dilute urine" },  
{ question: "What is the role of nephrons in water balance?", answer: "selectively reabsorb water to maintain homeostasis" },  
{ question: "How does urine volume relate to hydration?", answer: "high volume = well-hydrated | low volume = dehydrated" }  ],
        'chemistry': []
      },
      'math': {
        'algebra3': [],
        'geometry2': []
      },
      'social-studies': {
        'social-studies': []
      },
      'computing': {
        'computing': []
      },
      'english': {
        'vocabulary': [{ question: "ferny", answer: "(adj.) overgrown with ferns (green plants with large leaves and no flowers)" },
{ question: "smote", answer: "(v.) hit with a strong blow" },
{ question: "leaf-fringed", answer: "(adj.) covered with leaves" },
{ question: "sill", answer: "(n.) a shelf below a window, either inside or outside a building" },
{ question: "perplexed", answer: "(adj.) confused; puzzled" },
{ question: "dwelt", answer: "(v.) lived in a place" },
{ question: "lone", answer: "(adj.) isolated; remote" },
{ question: "thronging", answer: "(v.) gathering or crowding together somewhere in very large numbers" },
{ question: "turf", answer: "(n.) grass and the upper layer of soil held together by roots" },
{ question: "stir", answer: "(n.) a slight physical movement" },
{ question: "surged", answer: "(v.) moved suddenly and powerfully" },
{ question: "plunging", answer: "(adj.) falling or dropping suddenly and rapidly" },
{ question: "hoofs", answer: "(n.) the hard part of an animal’s foot, especially a horse" },
{ question: "indolent", answer: "(adj.) lazy or lethargic" },
{ question: "averse", answer: "(adj.) having strong feelings of opposition" },
{ question: "correspondence", answer: "(n.) communication by exchanging letters" },
{ question: "obliges", answer: "(v.) to obligate or require action" },
{ question: "charmed", answer: "(adj.) very pleased" },
{ question: "neglect", answer: "(n.) carelessness; disregard" },
{ question: "voluntarily", answer: "(adj.) optional; done of one’s own free will" },
{ question: "bargain", answer: "(n.) agreement or contract as a result of negotiation" },
{ question: "vexation", answer: "(n.) irritation" },
{ question: "chagrin", answer: "(n.) humiliation; annoyance" },
{ question: "impression", answer: "(n.) influence or effect" },
{ question: "tempted", answer: "(v.) to have an urge or inclination to do something" },
{ question: "ambitious", answer: "(adj.) having the desire to be powerful, famous, or successful" },
{ question: "repose", answer: "(n.) a state of rest after hard work" },
{ question: "liberty", answer: "(n.) freedom from restraint" },
{ question: "virtue", answer: "(n.) morally good behavior" },
{ question: "attain", answer: "(v.) to achieve or obtain" },
{ question: "bustles", answer: "(n.) noisy or energetic activity" },
{ question: "esteem", answer: "(n.) high regard" },
{ question: "benevolent", answer: "(adj.) well-meaning and kind" },
{ question: "laudable", answer: "(adj.) worthy of praise" },
{ question: "pursuit", answer: "(n.) the act of following or chasing someone or something" },
{ question: "contracts", answer: "(v.) to bring on oneself" },
{ question: "brute", answer: "(n.) physically cruel or savage" },
{ question: "conceive", answer: "(v.) form an idea; imagine" },
{ question: "miseries", answer: "(n.) a state of great unhappiness" },
{ question: "auction", answer: "(n.) a sale to the highest bidder" },
{ question: "unalterable", answer: "(adj.) not capable of being changed" },
{ question: "heinous", answer: "(adj.) awful and shocking; evil" },
{ question: "misdemeanors", answer: "(n.) crimes or wrongdoings that are minor" },
{ question: "commissioner", answer: "(n.) an important official chosen as a representative of governmental authority" },
{ question: "treaty", answer: "(n.) a formal written agreement between countries or political authorities" },
{ question: "grossly", answer: "(adv.) extremely; greatly" },
{ question: "conduct", answer: "(n.) behavior" },
{ question: "manners", answer: "(n.) ways people behave towards each other" },
{ question: "fort", answer: "(n.) a fortified military base" },
{ question: "rapids", answer: "(n.) fast-flowing, turbulent parts of a river" },
{ question: "particular", answer: "(adj.) very attentive to accuracy; meticulous" },
{ question: "tributary", answer: "(n.) a river or stream flowing into a larger river" },
{ question: "bluff", answer: "(n.) a steep cliff or bank" },
{ question: "adjoined", answer: "(v.) were very near or joined with" },
{ question: "undisputed", answer: "(adj.) not called in question; accepted" },
{ question: "prostrate", answer: "(adj.) lying face down on the ground" },
{ question: "digressing", answer: "(v.) moving away temporarily from the main topic" },
{ question: "bartering", answer: "(v.) trading goods/services without money" },
{ question: "goods", answer: "(n.) items to be bought or sold" },
{ question: "kegs", answer: "(n.) small barrels for storing drinks" },
{ question: "provisions", answer: "(n.) essential supplies (food, equipment)" },
{ question: "gaudy", answer: "(adj.) too bright and unpleasantly decorated" },
{ question: "flint", answer: "(n.) a stone that produces sparks with steel" },
{ question: "retires", answer: "(v.) exits a room or place" },
{ question: "courting", answer: "(adj.) romantic; with intention of marrying" },
{ question: "ascertain", answer: "(v.) confirm something as certain" },
{ question: "indiscretion", answer: "(n.) risky or irresponsible behavior" },
{ question: "exploits", answer: "(n.) brave or daring acts" },
{ question: "hoed", answer: "(v.) dug up using a garden hoe" },
{ question: "retaliate", answer: "(v.) get revenge; hurt someone who harmed you" },
{ question: "instigated", answer: "(v.) caused to begin; initiated" },
{ question: "produce", answer: "(n.) agricultural products" },
{ question: "consent", answer: "(v.) agree to do something" },
{ question: "ripe", answer: "(adj.) fully developed and ready to eat" },
{ question: "roasting ears", answer: "(n.) young corn ears suitable for roasting" },
{ question: "glimmered", answer: "(v.) to shine faintly" },
{ question: "plodding", answer: "(adj.) slow-moving and unexciting" },
{ question: "consolation", answer: "(n.) comfort received by someone" },
{ question: "pranks", answer: "(n.) practical jokes" },
{ question: "birch", answer: "(n.) a type of tree with thin, peeling bark" },
{ question: "browse", answer: "(v.) to feed on leaves" },
{ question: "torment", answer: "(n.) a cause of suffering" },
{ question: "lingering", answer: "(v.) to stay in one place longer than necessary" },
{ question: "loitered", answer: "(v.) to stand or wait around without purpose" },
{ question: "manufacturing", answer: "(n.) producing goods in large numbers" },
{ question: "wistful", answer: "(adj.) nostalgic" },
{ question: "brook", answer: "(n.) a small stream" },
{ question: "pasture", answer: "(n.) land covered with grass for grazing" },
{ question: "waded", answer: "(v.) to walk with effort through water" },
{ question: "chase", answer: "(v.) to pursue to catch someone/something" },
{ question: "discreetly", answer: "(adv.) carefully to avoid attention" },
{ question: "gallantly", answer: "(adv.) in a brave, heroic manner" },
{ question: "gunning", answer: "(v.) to shoot" },
{ question: "trial", answer: "(n.) someone/something that tests patience" },
{ question: "tucked away", answer: "(v.) to hide in a safe place" },
{ question: "awed", answer: "(adj.) filled with wonder" },
{ question: "gravity", answer: "(n.) extreme importance" },
{ question: "lumpy", answer: "(adj.) covered with bumps" },
{ question: "bade", answer: "(v.) to utter a greeting" },
{ question: "fare", answer: "(v.) to travel" },
{ question: "primitive", answer: "(adj.) very basic and unsophisticated" },
{ question: "dreary", answer: "(adj.) depressingly dull" },
{ question: "squalor", answer: "(n.) very bad and dirty conditions" },
{ question: "thrift", answer: "(n.) using money carefully" },
{ question: "quaint", answer: "(adj.) pleasantly unusual" },
{ question: "tame", answer: "(v.) to domesticate" },
{ question: "scanted", answer: "(v.) to provide insufficiently" },
{ question: "hitch", answer: "(v.) to connect or get along" },
{ question: "demure", answer: "(adj.) reserved and shy" },
{ question: "preserved", answer: "(adj.) kept in good condition" },
{ question: "snared", answer: "(v.) to trap an animal" },
{ question: "hoptoad", answer: "(n.) a type of toad" },
{ question: "queer", answer: "(adj.) strange; odd" },
{ question: "marshes", answer: "(n.) wet lands in all seasons" },
{ question: "migrating", answer: "(v.) to move from one region to another" },
{ question: "hindered", answer: "(v.) to obstruct" },
{ question: "spectators", answer: "(n.) watchers of an event" },
{ question: "hovered", answer: "(v.) to linger closely" },
{ question: "troubled", answer: "(adj.) worried or anxious" },
{ question: "bough", answer: "(n.) a main branch of a tree" },
{ question: "waned", answer: "(v.) to decrease; disappear" },
{ question: "premonition", answer: "(n.) a feeling something will happen" },
{ question: "traversed", answer: "(v.) to cross from one place to another" },
{ question: "elusive", answer: "(adj.) difficult to catch" },
{ question: "felled", answer: "(v.) to cut down (a tree)" },
{ question: "sturdy", answer: "(adj.) strong and solid" },
{ question: "wistfully", answer: "(adv.) with longing" },
{ question: "fancied", answer: "(adj.) imagined to be true" },
{ question: "drowsy", answer: "(adj.) tired and almost asleep" },
{ question: "jarred", answer: "(v.) to damage" },
{ question: "mount", answer: "(v.) to climb" },
{ question: "tingling", answer: "(adj.) causing a prickling sensation" },
{ question: "dew", answer: "(n.) tiny water drops on cool surfaces" },
{ question: "fluttered off", answer: "(v.) to fly rapidly" },
{ question: "pettishly", answer: "(adv.) angrily about trivial matters" },
{ question: "chafed", answer: "(v.) to become sore from rubbing" },
{ question: "enterprise", answer: "(n.) bold pursuit" },
{ question: "mainmast", answer: "(n.) chief structure of a ship" },
{ question: "ponderous", answer: "(adj.) slow/clumsy due to weight" },
{ question: "wending", answer: "(v.) to move in a specific direction" },
{ question: "thrushes", answer: "(n.) songbirds" },
{ question: "steeples", answer: "(n.) church towers" },
{ question: "pageant", answer: "(n.) a glamorous event" },
{ question: "giddy", answer: "(adj.) causing dizziness" },
{ question: "perched", answer: "(v.) to rest on something" },
{ question: "vexed", answer: "(adj.) frustrated and annoyed" },
{ question: "wavers", answer: "(v.) to move quiveringly" },
{ question: "perilous", answer: "(adj.) full of danger" },
{ question: "frock", answer: "(n.) a woman’s dress" },
{ question: "smeared", answer: "(v.) to cover with stains" },
{ question: "rebukes", answer: "(v.) to express disapproval" },
{ question: "punctilious", answer: "(adj.) concerned about precise accordance with details" },
{ question: "patriotism", answer: "(n.) love for one's country" },
{ question: "fern", answer: "(n.) plant with large, delicate leaves and no flowers" },
{ question: "scudded", answer: "(v.) moved quickly" },
{ question: "mossy", answer: "(adj.) covered with moss" },
{ question: "knolls", answer: "(n.) small round hills" },
{ question: "wraps", answer: "(n.) outer garments like coats or shawls" },
{ question: "somber", answer: "(adj.) dark and gloomy" },
{ question: "peal", answer: "(n.) loud sound or series of sounds" },
{ question: "tottered", answer: "(v.) walked unsteadily" },
{ question: "dogmatic", answer: "(adj.) expressing opinions as certainly correct" },
{ question: "permanence", answer: "(n.) state of lasting forever" },
{ question: "buckwheat", answer: "(n.) plant with seeds used for flour" },
{ question: "drawl", answer: "(n.) slow way of speaking with long vowels" },
{ question: "alluded", answer: "(v.) hinted at indirectly" },
{ question: "clank", answer: "(n.) sharp metallic ringing sound" },
{ question: "oblong", answer: "(adj.) longer in one direction" },
{ question: "wan", answer: "(adj.) dim, faint" },
{ question: "coils", answer: "(n.) series of loops" },
{ question: "eminent", answer: "(adj.) successful and respected" },
{ question: "indignation", answer: "(n.) anger at something unjust" },
{ question: "uttering", answer: "(v.) sending forth sounds" },
{ question: "hollow", answer: "(adj.) not sincere" },
{ question: "groans", answer: "(n.) low moaning sounds" },
{ question: "acute", answer: "(adj.) severe, sharp" },
{ question: "agony", answer: "(n.) great physical/emotional pain" },
{ question: "pellets", answer: "(n.) small hard round pieces" },
{ question: "vaulted", answer: "(adj.) built in an arch shape" },
{ question: "frilled", answer: "(adj.) with pleated fabric edging" },
{ question: "grudge", answer: "(n.) lasting anger" },
{ question: "foolhardy", answer: "(adj.) foolishly bold" },
{ question: "abject", answer: "(adj.) very severe" },
{ question: "clammy", answer: "(adj.) unpleasantly wet/cold" },
{ question: "hissed", answer: "(v.) angry whisper" },
{ question: "moaning", answer: "(v.) uttering low sounds" },
{ question: "piteous", answer: "(adj.) deserving pity" },
{ question: "specter", answer: "(n.) ghost" },
{ question: "carven", answer: "(adj.) ornamented by carving" },
{ question: "placard", answer: "(n.) large notice/poster" },
{ question: "grapple", answer: "(v.) seize and struggle" },
{ question: "chivalry", answer: "(n.) medieval knightly values" },
{ question: "phantasmic", answer: "(adj.) ghostly" },
{ question: "oriel window", answer: "(n.) projecting bay window" },
{ question: "conscientious", answer: "(adj.) meticulous" },
{ question: "wainscoting", answer: "(n.) wooden wall panels" },
{ question: "hemmed", answer: "(v.) surrounded restrictively" },
{ question: "paralytic", answer: "(adj.) causing paralysis" },
{ question: "canopy", answer: "(n.) cloth cover above sacred objects" },
{ question: "hedge", answer: "(n.) boundary of shrubs" },
{ question: "absurd", answer: "(adj.) ridiculously unreasonable" },
{ question: "petulantly", answer: "(adv.) irritably" },
{ question: "abstract", answer: "(adj.) relating to general ideas" },
{ question: "ethics", answer: "(n.) moral principles" },
{ question: "starched", answer: "(v.) made clothing stiff" },
{ question: "meekly", answer: "(adv.) submissively" },
{ question: "nightingale", answer: "(n.) songbird" },
{ question: "wrung", answer: "(v.) twisted hands in anguish" },
{ question: "falter", answer: "(v.) stumble" },
{ question: "dusky", answer: "(adj.) somewhat dark" },
{ question: "goggle", answer: "(adj.) staring" },
{ question: "cavern", answer: "(n.) large cave" },
{ question: "frantic", answer: "(adj.) fast and nervous" },
{ question: "scuffle", answer: "(n.) short fight" },
{ question: "scour", answer: "(v.) clear a region" },
{ question: "awestruck", answer: "(adj.) filled with wonder" },
{ question: "casket", answer: "(n.) jewelry box" },
{ question: "smothered", answer: "(v.) covered thickly" },
{ question: "hearse", answer: "(n.) coffin vehicle" },
{ question: "tuft", answer: "(n.) decorative thread bunch" },
{ question: "leaden", answer: "(adj.) lacking spirit" },
{ question: "scruples", answer: "(n.) ethical principles" },
{ question: "rendered", answer: "(v.) performed a service" },
{ question: "pluck", answer: "(n.) determination" }],
        'grammar': []
      }
    };

    // Current state
    let currentMode = 'dashboard';
    let currentSubject = '';
    let currentTopic = '';
    let currentCardIndex = 0;
    let isDark = false;
    let wrongCards = [];
    let filteredCards = [];

    // DOM elements
    const dashboardEl = document.querySelector('.dashboard');
    const flashcardModeEl = document.querySelector('.flashcard-mode');
    const subjectLabelEl = document.getElementById('subjectLabel');
    const topicLabelEl = document.getElementById('topicLabel');
    const questionEl = document.getElementById('flashcardQuestion');
    const answerEl = document.getElementById('flashcardAnswer');
    const progressEl = document.getElementById('progressText');
    const reviewBoxEl = document.getElementById('reviewBox');
    const wrongCardsListEl = document.getElementById('wrongCardsList');
    const emptyMessageEl = document.getElementById('emptyMessage');
    const controlsEl = document.querySelector('.controls');
    const flashcardContainerEl = document.querySelector('.flashcard-container');

    // Navigation functions
    function toggleSubject(element, subject) {
      // Close other expanded subjects
      document.querySelectorAll('.subject-card').forEach(card => {
        if (card !== element && !card.classList.contains('direct-subject')) {
          card.classList.remove('expanded');
        }
      });
      
      // Toggle current subject
      element.classList.toggle('expanded');
      
      // Update color scheme
      document.body.className = `subject-${subject}`;
      event.stopPropagation();
    }

    function enterFlashcardMode(subject, topic) {
      currentSubject = subject;
      currentTopic = topic;
      currentCardIndex = 0;
      filteredCards = flashcardsDatabase[subject][topic] || [];
      updateLabels();
      updateCardView();
      
      // Update UI colors
      document.body.className = `subject-${subject}`;
      
      dashboardEl.classList.remove('active-mode');
      flashcardModeEl.classList.add('active-mode');
      currentMode = 'flashcard';
      
      // Close all expanded subjects
      document.querySelectorAll('.subject-card').forEach(card => {
        card.classList.remove('expanded');
      });
    }

    function backToDashboard() {
      dashboardEl.classList.add('active-mode');
      flashcardModeEl.classList.remove('active-mode');
      currentMode = 'dashboard';
    }

    function updateLabels() {
      // Format labels nicely
      const subjectNames = {
        'science': 'SCIENCE',
        'math': 'MATHEMATICS',
        'social-studies': 'SOCIAL STUDIES',
        'computing': 'COMPUTING',
        'english': 'ENGLISH'
      };
      
      const topicNames = {
        'physics': 'PHYSICS',
        'human-body': 'HUMAN BODY',
        'chemistry': 'CHEMISTRY',
        'algebra3': 'ALGEBRA 3',
        'geometry2': 'GEOMETRY 2',
        'social-studies': 'SOCIAL STUDIES',
        'computing': 'COMPUTING',
        'vocabulary': 'VOCABULARY (ANTHOLOGY)',
        'grammar': 'GRAMMAR'
      };
      
      subjectLabelEl.textContent = subjectNames[currentSubject] || currentSubject.toUpperCase();
      topicLabelEl.textContent = topicNames[currentTopic] || currentTopic.toUpperCase();
    }

    function updateCardView() {
      if (filteredCards.length === 0) {
        emptyMessageEl.style.display = 'block';
        controlsEl.style.display = 'none';
        flashcardContainerEl.style.display = 'none';
        progressEl.textContent = "No cards available";
        return;
      }
      
      emptyMessageEl.style.display = 'none';
      controlsEl.style.display = 'flex';
      flashcardContainerEl.style.display = 'block';
      
      const card = filteredCards[currentCardIndex];
      questionEl.textContent = card.question;
      answerEl.textContent = card.answer;
      progressEl.textContent = `Card ${currentCardIndex + 1} of ${filteredCards.length}`;
      
      // Reset flip state
      document.querySelector('.flashcard').classList.remove('flipped');
    }

    function flipCard() {
      if (filteredCards.length > 0) {
        document.querySelector('.flashcard').classList.toggle('flipped');
      }
    }

    function nextCard() {
      if (filteredCards.length === 0) return;
      
      if (currentCardIndex < filteredCards.length - 1) {
        currentCardIndex++;
      } else {
        currentCardIndex = 0;
      }
      updateCardView();
    }

    function prevCard() {
      if (filteredCards.length === 0) return;
      
      if (currentCardIndex > 0) {
        currentCardIndex--;
      } else {
        currentCardIndex = filteredCards.length - 1;
      }
      updateCardView();
    }

    function markWrong() {
      if (filteredCards.length === 0) return;
      
      wrongCards.push(filteredCards[currentCardIndex]);
      updateReviewBox();
      nextCard();
    }

    function updateReviewBox() {
      if (wrongCards.length > 0) {
        reviewBoxEl.style.display = 'block';
        wrongCardsListEl.innerHTML = wrongCards.map(card => 
          `<li>${card.question} → <strong>${card.answer}</strong></li>`
        ).join('');
      } else {
        reviewBoxEl.style.display = 'none';
      }
    }

    function toggleTheme() {
      isDark = !isDark;
      document.body.classList.toggle('dark-mode');
      document.querySelector('.theme-toggle').textContent = isDark ? '🌙' : '☀️';
    }

    // Keyboard controls
    document.addEventListener('keydown', (e) => {
      if (currentMode !== 'flashcard') return;
      
      if (e.key === 'ArrowRight') nextCard();
      if (e.key === 'ArrowLeft') prevCard();
      if (e.key === ' ') flipCard();
      if (e.key === 'w') markWrong();
    });

    // Initialize
    updateLabels();
  </script>
</body>
</html>